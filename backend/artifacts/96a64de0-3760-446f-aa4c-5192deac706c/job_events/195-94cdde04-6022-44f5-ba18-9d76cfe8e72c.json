{"uuid": "94cdde04-6022-44f5-ba18-9d76cfe8e72c", "counter": 195, "stdout": "\u001b[0;32mok: [db-node-01]\u001b[0m", "start_line": 173, "end_line": 174, "runner_ident": "96a64de0-3760-446f-aa4c-5192deac706c", "event": "runner_on_ok", "pid": 93025, "created": "2026-02-20T18:00:49.130365+00:00", "parent_uuid": "5254000e-bcee-683f-4e6c-000000000025", "event_data": {"playbook": "/home/ubuntu/harbour-master/backend/ansible/deploy_cluster.yml", "playbook_uuid": "bed24505-2380-448d-b2d0-80e75631763f", "play": "Phase 3 - Build Galera Cluster", "play_uuid": "5254000e-bcee-683f-4e6c-00000000001d", "play_pattern": "galera", "task": "DISCOVERY: Check local Galera state", "task_uuid": "5254000e-bcee-683f-4e6c-000000000025", "task_action": "shell", "resolved_action": "ansible.builtin.shell", "task_args": "", "task_path": "/home/ubuntu/harbour-master/backend/ansible/roles/galera/tasks/main.yml:24", "role": "galera", "host": "db-node-01", "remote_addr": "db-node-01", "res": {"changed": false, "stdout": "Disconnected", "stderr": "", "rc": 0, "cmd": "# Attempt 1: Try Unix Socket (Works for fresh installs via sudo)\nSTATUS=$(mariadb -u root -N -s -e \"SHOW STATUS LIKE 'wsrep_local_state_comment'; SHOW STATUS LIKE 'wsrep_cluster_status';\" 2>/dev/null | awk '{print $2}')\n\n# Attempt 2: Fallback to Password (Works for re-runs after hardening)\nif [ -z \"$STATUS\" ]; then\n  PASS=\"StrongPass123!\"\n  STATUS=$(mariadb -u root -p\"$PASS\" -N -s -e \"SHOW STATUS LIKE 'wsrep_local_state_comment'; SHOW STATUS LIKE 'wsrep_cluster_status';\" 2>/dev/null | awk '{print $2}')\nfi\n\necho \"${STATUS:-OFFLINE}\"\n", "start": "2026-02-20 23:30:49.117417", "end": "2026-02-20 23:30:49.123198", "delta": "0:00:00.005781", "msg": "", "invocation": {"module_args": {"_raw_params": "# Attempt 1: Try Unix Socket (Works for fresh installs via sudo)\nSTATUS=$(mariadb -u root -N -s -e \"SHOW STATUS LIKE 'wsrep_local_state_comment'; SHOW STATUS LIKE 'wsrep_cluster_status';\" 2>/dev/null | awk '{print $2}')\n\n# Attempt 2: Fallback to Password (Works for re-runs after hardening)\nif [ -z \"$STATUS\" ]; then\n  PASS=\"StrongPass123!\"\n  STATUS=$(mariadb -u root -p\"$PASS\" -N -s -e \"SHOW STATUS LIKE 'wsrep_local_state_comment'; SHOW STATUS LIKE 'wsrep_cluster_status';\" 2>/dev/null | awk '{print $2}')\nfi\n\necho \"${STATUS:-OFFLINE}\"\n", "_uses_shell": true, "expand_argument_vars": true, "stdin_add_newline": true, "strip_empty_ends": true, "cmd": null, "argv": null, "chdir": null, "executable": null, "creates": null, "removes": null, "stdin": null}}, "stdout_lines": ["Disconnected"], "stderr_lines": [], "failed_when_result": false, "_ansible_no_log": false}, "start": "2026-02-20T18:00:48.941604+00:00", "end": "2026-02-20T18:00:49.130129+00:00", "duration": 0.188525, "event_loop": null, "uuid": "94cdde04-6022-44f5-ba18-9d76cfe8e72c"}}