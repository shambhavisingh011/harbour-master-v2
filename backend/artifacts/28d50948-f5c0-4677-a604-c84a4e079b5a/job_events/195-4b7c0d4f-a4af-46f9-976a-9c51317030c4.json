{"uuid": "4b7c0d4f-a4af-46f9-976a-9c51317030c4", "counter": 195, "stdout": "\u001b[0;32mok: [db-node-01]\u001b[0m", "start_line": 173, "end_line": 174, "runner_ident": "28d50948-f5c0-4677-a604-c84a4e079b5a", "event": "runner_on_ok", "pid": 92276, "created": "2026-02-20T17:57:47.256373+00:00", "parent_uuid": "5254000e-bcee-210f-cb11-000000000025", "event_data": {"playbook": "/home/ubuntu/harbour-master/backend/ansible/deploy_cluster.yml", "playbook_uuid": "73972a82-f3cb-4ee8-a83d-f3c2b8d079e6", "play": "Phase 3 - Build Galera Cluster", "play_uuid": "5254000e-bcee-210f-cb11-00000000001d", "play_pattern": "galera", "task": "DISCOVERY: Check local Galera state", "task_uuid": "5254000e-bcee-210f-cb11-000000000025", "task_action": "shell", "resolved_action": "ansible.builtin.shell", "task_args": "", "task_path": "/home/ubuntu/harbour-master/backend/ansible/roles/galera/tasks/main.yml:24", "role": "galera", "host": "db-node-01", "remote_addr": "db-node-01", "res": {"changed": false, "stdout": "OFFLINE", "stderr": "", "rc": 0, "cmd": "# Attempt 1: Try Unix Socket (Works for fresh installs via sudo)\nSTATUS=$(mariadb -u root -N -s -e \"SHOW STATUS LIKE 'wsrep_local_state_comment'; SHOW STATUS LIKE 'wsrep_cluster_status';\" 2>/dev/null | awk '{print $2}')\n\n# Attempt 2: Fallback to Password (Works for re-runs after hardening)\nif [ -z \"$STATUS\" ]; then\n  PASS=\"StrongPass123!\"\n  STATUS=$(mariadb -u root -p\"$PASS\" -N -s -e \"SHOW STATUS LIKE 'wsrep_local_state_comment'; SHOW STATUS LIKE 'wsrep_cluster_status';\" 2>/dev/null | awk '{print $2}')\nfi\n\necho \"${STATUS:-OFFLINE}\"\n", "start": "2026-02-20 23:27:47.233984", "end": "2026-02-20 23:27:47.249335", "delta": "0:00:00.015351", "msg": "", "invocation": {"module_args": {"_raw_params": "# Attempt 1: Try Unix Socket (Works for fresh installs via sudo)\nSTATUS=$(mariadb -u root -N -s -e \"SHOW STATUS LIKE 'wsrep_local_state_comment'; SHOW STATUS LIKE 'wsrep_cluster_status';\" 2>/dev/null | awk '{print $2}')\n\n# Attempt 2: Fallback to Password (Works for re-runs after hardening)\nif [ -z \"$STATUS\" ]; then\n  PASS=\"StrongPass123!\"\n  STATUS=$(mariadb -u root -p\"$PASS\" -N -s -e \"SHOW STATUS LIKE 'wsrep_local_state_comment'; SHOW STATUS LIKE 'wsrep_cluster_status';\" 2>/dev/null | awk '{print $2}')\nfi\n\necho \"${STATUS:-OFFLINE}\"\n", "_uses_shell": true, "expand_argument_vars": true, "stdin_add_newline": true, "strip_empty_ends": true, "cmd": null, "argv": null, "chdir": null, "executable": null, "creates": null, "removes": null, "stdin": null}}, "stdout_lines": ["OFFLINE"], "stderr_lines": [], "failed_when_result": false, "_ansible_no_log": false}, "start": "2026-02-20T17:57:47.047926+00:00", "end": "2026-02-20T17:57:47.256165+00:00", "duration": 0.208239, "event_loop": null, "uuid": "4b7c0d4f-a4af-46f9-976a-9c51317030c4"}}