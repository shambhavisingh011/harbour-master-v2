{"uuid": "81e230a7-b0cb-4d72-8b4d-611cb94c8ae4", "counter": 354, "stdout": "\u001b[0;33mchanged: [db-node-03]\u001b[0m", "start_line": 348, "end_line": 349, "runner_ident": "75132ee8-3161-41fd-859a-db9390af3f05", "event": "runner_on_ok", "pid": 100954, "created": "2026-02-17T04:40:01.453809+00:00", "parent_uuid": "5254000e-bcee-500c-8a74-00000000002a", "event_data": {"playbook": "/home/ubuntu/harbour-master/backend/ansible/deploy_cluster.yml", "playbook_uuid": "cacf0ae4-4a7a-44d7-9e89-46c01ce5e5c4", "play": "Phase 3 - Build Galera Cluster", "play_uuid": "5254000e-bcee-500c-8a74-000000000016_3", "play_pattern": "galera", "task": "[Self-Healing] Restart MariaDB if Offline or stuck in Initialized", "task_uuid": "5254000e-bcee-500c-8a74-00000000002a", "task_action": "systemd", "resolved_action": "ansible.builtin.systemd", "task_args": "", "task_path": "/home/ubuntu/harbour-master/backend/ansible/roles/galera/tasks/main.yml:118", "role": "galera", "host": "db-node-03", "remote_addr": "db-node-03", "res": {"name": "mariadb", "changed": true, "status": {"Type": "notify", "ExitType": "main", "Restart": "on-abnormal", "RestartMode": "normal", "NotifyAccess": "main", "RestartUSec": "5s", "RestartSteps": "0", "RestartMaxDelayUSec": "infinity", "RestartUSecNext": "5s", "TimeoutStartUSec": "15min", "TimeoutStopUSec": "15min", "TimeoutAbortUSec": "15min", "TimeoutStartFailureMode": "terminate", "TimeoutStopFailureMode": "terminate", "RuntimeMaxUSec": "infinity", "RuntimeRandomizedExtraUSec": "0", "WatchdogUSec": "0", "WatchdogTimestampMonotonic": "0", "RootDirectoryStartOnly": "no", "RemainAfterExit": "no", "GuessMainPID": "yes", "MainPID": "0", "ControlPID": "0", "FileDescriptorStoreMax": "0", "NFileDescriptorStore": "0", "FileDescriptorStorePreserve": "restart", "StatusErrno": "0", "Result": "signal", "ReloadResult": "success", "CleanResult": "success", "UID": "[not set]", "GID": "[not set]", "NRestarts": "0", "OOMPolicy": "stop", "ReloadSignal": "1", "ExecMainStartTimestamp": "Tue 2026-02-17 10:09:46 IST", "ExecMainStartTimestampMonotonic": "580934121", "ExecMainExitTimestamp": "Tue 2026-02-17 10:09:47 IST", "ExecMainExitTimestampMonotonic": "582122466", "ExecMainPID": "3986", "ExecMainCode": "2", "ExecMainStatus": "6", "ExecStartPre": "{ path=/bin/sh ; argv[]=/bin/sh -c [ ! -e /usr/bin/galera_recovery ] && VAR= ||   VAR=`/usr/bin/galera_recovery`; [ $? -eq 0 ]   && echo _WSREP_START_POSITION=$VAR > /run/mysqld/wsrep-start-position || exit 1 ; ignore_errors=no ; start_time=[Tue 2026-02-17 10:09:45 IST] ; stop_time=[Tue 2026-02-17 10:09:46 IST] ; pid=3875 ; code=exited ; status=0 }", "ExecStartPreEx": "{ path=/bin/sh ; argv[]=/bin/sh -c [ ! -e /usr/bin/galera_recovery ] && VAR= ||   VAR=`/usr/bin/galera_recovery`; [ $? -eq 0 ]   && echo _WSREP_START_POSITION=$VAR > /run/mysqld/wsrep-start-position || exit 1 ; flags= ; start_time=[Tue 2026-02-17 10:09:45 IST] ; stop_time=[Tue 2026-02-17 10:09:46 IST] ; pid=3875 ; code=exited ; status=0 }", "ExecStart": "{ path=/usr/sbin/mariadbd ; argv[]=/usr/sbin/mariadbd $MYSQLD_OPTS $_WSREP_NEW_CLUSTER $_WSREP_START_POSITION ; ignore_errors=no ; start_time=[Tue 2026-02-17 10:09:46 IST] ; stop_time=[Tue 2026-02-17 10:09:47 IST] ; pid=3986 ; code=killed ; status=6/ABRT }", "ExecStartEx": "{ path=/usr/sbin/mariadbd ; argv[]=/usr/sbin/mariadbd $MYSQLD_OPTS $_WSREP_NEW_CLUSTER $_WSREP_START_POSITION ; flags= ; start_time=[Tue 2026-02-17 10:09:46 IST] ; stop_time=[Tue 2026-02-17 10:09:47 IST] ; pid=3986 ; code=killed ; status=6/ABRT }", "ExecStartPost": "{ path=/etc/mysql/debian-start ; argv[]=/etc/mysql/debian-start ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartPostEx": "{ path=/etc/mysql/debian-start ; argv[]=/etc/mysql/debian-start ; flags=no-setuid ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "Slice": "system.slice", "ControlGroupId": "5044", "MemoryCurrent": "[not set]", "MemoryPeak": "[not set]", "MemorySwapCurrent": "[not set]", "MemorySwapPeak": "[not set]", "MemoryZSwapCurrent": "[not set]", "MemoryAvailable": "458698752", "CPUUsageNSec": "120597000", "TasksCurrent": "[not set]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IOReadBytes": "[not set]", "IOReadOperations": "[not set]", "IOWriteBytes": "[not set]", "IOWriteOperations": "[not set]", "Delegate": "no", "CPUAccounting": "yes", "CPUWeight": "[not set]", "StartupCPUWeight": "[not set]", "CPUShares": "[not set]", "StartupCPUShares": "[not set]", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "IOAccounting": "no", "IOWeight": "[not set]", "StartupIOWeight": "[not set]", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "StartupBlockIOWeight": "[not set]", "MemoryAccounting": "yes", "DefaultMemoryLow": "0", "DefaultStartupMemoryLow": "0", "DefaultMemoryMin": "0", "MemoryMin": "0", "MemoryLow": "0", "StartupMemoryLow": "0", "MemoryHigh": "infinity", "StartupMemoryHigh": "infinity", "MemoryMax": "infinity", "StartupMemoryMax": "infinity", "MemorySwapMax": "infinity", "StartupMemorySwapMax": "infinity", "MemoryZSwapMax": "infinity", "StartupMemoryZSwapMax": "infinity", "MemoryLimit": "infinity", "DevicePolicy": "auto", "TasksAccounting": "yes", "TasksMax": "4984", "IPAccounting": "no", "ManagedOOMSwap": "auto", "ManagedOOMMemoryPressure": "auto", "ManagedOOMMemoryPressureLimit": "0", "ManagedOOMPreference": "none", "MemoryPressureWatch": "auto", "MemoryPressureThresholdUSec": "200ms", "CoredumpReceive": "no", "EnvironmentFiles": "/run/mysqld/wsrep-start-position (ignore_errors=yes)", "UMask": "0007", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LimitCORE": "infinity", "LimitCORESoft": "0", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitNOFILE": "32768", "LimitNOFILESoft": "32768", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitNPROC": "2517", "LimitNPROCSoft": "2517", "LimitMEMLOCK": "524288", "LimitMEMLOCKSoft": "524288", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitSIGPENDING": "2517", "LimitSIGPENDINGSoft": "2517", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "RootEphemeral": "no", "OOMScoreAdjust": "0", "CoredumpFilter": "0x33", "Nice": "0", "IOSchedulingClass": "2", "IOSchedulingPriority": "4", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUAffinityFromNUMA": "no", "NUMAPolicy": "n/a", "TimerSlackNSec": "50000", "CPUSchedulingResetOnFork": "no", "NonBlocking": "no", "StandardInput": "null", "StandardOutput": "journal", "StandardError": "inherit", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "SyslogPriority": "30", "SyslogLevelPrefix": "yes", "SyslogLevel": "6", "SyslogFacility": "3", "LogLevelMax": "-1", "LogRateLimitIntervalUSec": "0", "LogRateLimitBurst": "0", "SecureBits": "0", "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read cap_perfmon cap_bpf cap_checkpoint_restore", "AmbientCapabilities": "cap_ipc_lock", "User": "mysql", "Group": "mysql", "DynamicUser": "no", "SetLoginEnvironment": "no", "RemoveIPC": "no", "PrivateTmp": "no", "PrivateDevices": "no", "ProtectClock": "no", "ProtectKernelTunables": "no", "ProtectKernelModules": "no", "ProtectKernelLogs": "no", "ProtectControlGroups": "no", "PrivateNetwork": "no", "PrivateUsers": "no", "PrivateMounts": "no", "PrivateIPC": "no", "ProtectHome": "yes", "ProtectSystem": "full", "SameProcessGroup": "no", "UtmpMode": "init", "IgnoreSIGPIPE": "yes", "NoNewPrivileges": "no", "SystemCallErrorNumber": "2147483646", "LockPersonality": "no", "RuntimeDirectoryPreserve": "no", "RuntimeDirectoryMode": "0755", "StateDirectoryMode": "0755", "CacheDirectoryMode": "0755", "LogsDirectoryMode": "0755", "ConfigurationDirectoryMode": "0755", "TimeoutCleanUSec": "infinity", "MemoryDenyWriteExecute": "no", "RestrictRealtime": "no", "RestrictSUIDSGID": "no", "RestrictNamespaces": "no", "MountAPIVFS": "no", "KeyringMode": "private", "ProtectProc": "default", "ProcSubset": "all", "ProtectHostname": "no", "MemoryKSM": "no", "RootImagePolicy": "root=verity+signed+encrypted+unprotected+absent:usr=verity+signed+encrypted+unprotected+absent:home=encrypted+unprotected+absent:srv=encrypted+unprotected+absent:tmp=encrypted+unprotected+absent:var=encrypted+unprotected+absent", "MountImagePolicy": "root=verity+signed+encrypted+unprotected+absent:usr=verity+signed+encrypted+unprotected+absent:home=encrypted+unprotected+absent:srv=encrypted+unprotected+absent:tmp=encrypted+unprotected+absent:var=encrypted+unprotected+absent", "ExtensionImagePolicy": "root=verity+signed+encrypted+unprotected+absent:usr=verity+signed+encrypted+unprotected+absent:home=encrypted+unprotected+absent:srv=encrypted+unprotected+absent:tmp=encrypted+unprotected+absent:var=encrypted+unprotected+absent", "KillMode": "control-group", "KillSignal": "15", "RestartKillSignal": "15", "FinalKillSignal": "9", "SendSIGKILL": "no", "SendSIGHUP": "no", "WatchdogSignal": "6", "Id": "mariadb.service", "Names": "mariadb.service mysql.service mysqld.service", "Requires": "system.slice sysinit.target", "WantedBy": "multi-user.target", "Conflicts": "shutdown.target", "Before": "multi-user.target shutdown.target", "After": "sysinit.target system.slice basic.target systemd-journald.socket network.target", "Documentation": "\"man:mariadbd(8)\" https://mariadb.com/kb/en/library/systemd/", "Description": "MariaDB 10.11.16 database server", "LoadState": "loaded", "ActiveState": "activating", "FreezerState": "running", "SubState": "auto-restart", "FragmentPath": "/usr/lib/systemd/system/mariadb.service", "DropInPaths": "/etc/systemd/system/mariadb.service.d/migrated-from-my.cnf-settings.conf", "UnitFileState": "enabled", "UnitFilePreset": "enabled", "StateChangeTimestamp": "Tue 2026-02-17 10:09:47 IST", "StateChangeTimestampMonotonic": "582122962", "InactiveExitTimestamp": "Tue 2026-02-17 10:09:47 IST", "InactiveExitTimestampMonotonic": "582122962", "ActiveEnterTimestampMonotonic": "0", "ActiveExitTimestampMonotonic": "0", "InactiveEnterTimestamp": "Tue 2026-02-17 10:09:47 IST", "InactiveEnterTimestampMonotonic": "582122617", "CanStart": "yes", "CanStop": "yes", "CanReload": "no", "CanIsolate": "no", "CanFreeze": "yes", "StopWhenUnneeded": "no", "RefuseManualStart": "no", "RefuseManualStop": "no", "AllowIsolate": "no", "DefaultDependencies": "yes", "SurviveFinalKillSignal": "no", "OnSuccessJobMode": "fail", "OnFailureJobMode": "replace", "IgnoreOnIsolate": "no", "NeedDaemonReload": "no", "JobTimeoutUSec": "infinity", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "ConditionResult": "yes", "AssertResult": "yes", "ConditionTimestamp": "Tue 2026-02-17 10:09:45 IST", "ConditionTimestampMonotonic": "580430524", "AssertTimestamp": "Tue 2026-02-17 10:09:45 IST", "AssertTimestampMonotonic": "580430525", "Transient": "no", "Perpetual": "no", "StartLimitIntervalUSec": "10s", "StartLimitBurst": "5", "StartLimitAction": "none", "FailureAction": "none", "SuccessAction": "none", "InvocationID": "9e6a807c4a37460e8fbe53f1140c3ae7", "CollectMode": "inactive"}, "state": "started", "invocation": {"module_args": {"name": "mariadb", "state": "restarted", "daemon_reload": false, "daemon_reexec": false, "scope": "system", "no_block": false, "enabled": null, "force": null, "masked": null}}, "_ansible_no_log": false}, "start": "2026-02-17T04:39:48.425504+00:00", "end": "2026-02-17T04:40:01.453501+00:00", "duration": 13.027997, "event_loop": null, "uuid": "81e230a7-b0cb-4d72-8b4d-611cb94c8ae4"}}